<div class="container">
  <h1>Observacions</h1>

  <button
    mat-raised-button
    color="primary"
    (click)="createObservation()"
    style="margin-bottom: 30px"
  >
    Nova observació
  </button>

  <section
    class="sticky-container mat-elevation-z8"
    tabindex="0"
    style="margin-bottom: 50px"
  >
    <table mat-table [dataSource]="observations">
      <ng-container matColumnDef="species" sticky>
        <th mat-header-cell *matHeaderCellDef>Espècie</th>
        <td mat-cell *matCellDef="let observation">
          {{ observation.species }}
        </td>
      </ng-container>

      <ng-container matColumnDef="amount">
        <th mat-header-cell *matHeaderCellDef>Quantitat</th>
        <td mat-cell *matCellDef="let observation">{{ observation.amount }}</td>
      </ng-container>

      <ng-container matColumnDef="age">
        <th mat-header-cell *matHeaderCellDef>Edat</th>
        <td mat-cell *matCellDef="let observation">{{ observation.age }}</td>
      </ng-container>

      <ng-container matColumnDef="sex">
        <th mat-header-cell *matHeaderCellDef>Sexe</th>
        <td mat-cell *matCellDef="let observation">{{ observation.sex }}</td>
      </ng-container>

      <ng-container matColumnDef="province">
        <th mat-header-cell *matHeaderCellDef>Província</th>
        <td mat-cell *matCellDef="let observation">
          {{ observation.province }}
        </td>
      </ng-container>

      <ng-container matColumnDef="location">
        <th mat-header-cell *matHeaderCellDef>Localització</th>
        <td mat-cell *matCellDef="let observation">
          {{ observation.location }}
        </td>
      </ng-container>

      <ng-container matColumnDef="latitude">
        <th mat-header-cell *matHeaderCellDef>Latitud</th>
        <td mat-cell *matCellDef="let observation">
          {{ observation.latitude }}
        </td>
      </ng-container>

      <ng-container matColumnDef="longitude">
        <th mat-header-cell *matHeaderCellDef>Longitud</th>
        <td mat-cell *matCellDef="let observation">
          {{ observation.longitude }}
        </td>
      </ng-container>

      <ng-container matColumnDef="initial_date">
        <th mat-header-cell *matHeaderCellDef>Data d'inici</th>
        <td mat-cell *matCellDef="let observation">
          {{ observation.initial_date }}
        </td>
      </ng-container>

      <ng-container matColumnDef="final_date">
        <th mat-header-cell *matHeaderCellDef>Data final</th>
        <td mat-cell *matCellDef="let observation">
          {{ observation.final_date }}
        </td>
      </ng-container>

      <ng-container matColumnDef="observer">
        <th mat-header-cell *matHeaderCellDef>Observador/a</th>
        <td mat-cell *matCellDef="let observation">
          {{ observation.observer }}
        </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Accions</th>
        <td mat-cell *matCellDef="let observation">
          <button
            mat-icon-button
            color="primary"
            (click)="updateObservation(observation)"
          >
            <mat-icon>edit</mat-icon>
          </button>
          <button
            mat-icon-button
            color="warn"
            (click)="confirmDelete(observation.id)"
          >
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr
        mat-header-row
        *matHeaderRowDef="[
          'species',
          'amount',
          'age',
          'sex',
          'province',
          'location',
          'latitude',
          'longitude',
          'initial_date',
          'final_date',
          'observer',
          'actions'
        ]"
      ></tr>
      <tr
        mat-row
        *matRowDef="
          let row;
          columns: [
            'species',
            'amount',
            'age',
            'sex',
            'province',
            'location',
            'latitude',
            'longitude',
            'initial_date',
            'final_date',
            'observer',
            'actions'
          ]
        "
      ></tr>
    </table>
  </section>
</div>
